{% extends 'components/shell.html' %}

{% from 'components/cards.html' import dm_card %}

{% block content %}
<section 
  class="site-section site-section--importer-dms"
>
  <header class="site-section__header">
    <h1 class="site-section__heading">DM Review for {{ props.import_id }}</h1>
  </header>
  {% if props.dms %}
    <form
      id="dm-approval"
      class="form form--bigger dms" 
      method="POST"
    >
      {% for dm in props.dms %}
        <div>
          <input 
            type="checkbox" 
            name="approved_ids"
            value="{{ dm.id }}"
            id="{{ dm.id }}"
          >
            {{ dm_card(dm) }}
          <label for="{{ dm.id }}">Approve</label>
        </div>
      {% endfor %}

      <div class="form__section">
        <button 
          type="submit" 
          class="form__button form__button--submit"
        >
          Submit approved DMs.
        </button>
      </div>
    </form>
  {% else %}
    <p class="no-dms">
      There are no DMs waiting for approval.
    </p>
  {% endif %}
</section>
{% endblock %}
